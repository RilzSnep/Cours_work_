Курсовой проект

Веб-сервисы

Главная
В JSON-файл выводятся данные в формате:
Приветствие в формате — «Доброе утро» / «Добрый день» / «Добрый вечер» / «Доброй ночи» в зависимости от текущего времени.
По каждой карте:
последние 4 цифры карты;
общая сумма расходов;
кешбэк (1 рубль на каждые 100 рублей).
Топ-5 транзакций по сумме платежа.
Курс валют.
Стоимость акций из S&P500.


Сервисы
Простой поиск
Пользователь передает строку для поиска, возвращается JSON-ответ со всеми транзакциями, содержащими запрос в описании или категории.

Отсчеты
Траты по категории
Функция возвращает траты по заданной категории.


# Анализ Финансовых Транзакций

## Описание

Этот проект предназначен для анализа финансовых транзакций, выполнения поиска по данным транзакций, получения сводной информации о картах, получения текущих цен на акции и создания отчетов.

## Установка

1. Убедитесь, что у вас установлен Python 3.7 или выше.

2. Создайте виртуальное окружение и активируйте его:

    ```sh
    python -m venv venv
    ```

    На Windows:

    ```sh
    venv\Scripts\activate
    ```

    На Unix или MacOS:

    ```sh
    source venv/bin/activate
    ```

3. Установите необходимые зависимости:

    ```sh
    pip install -r requirements.txt
    ```

4. Создайте файл `.env` в корневой директории проекта и добавьте в него ваш API ключ:

    ```
    ALPHAVANTAGE_API_KEY=your_api_key_here
    ```

## Использование

### Поиск транзакций

1. Запустите скрипт:

    ```sh
    python main.py
    ```

2. Введите запрос для поиска, когда будет предложено:

    ```plaintext
    Введите запрос для поиска: [ваш запрос]
    ```

3. Результаты поиска будут сохранены в файл `search_results.json`.

### Анализ карт и получение цен на акции

1. Запустите скрипт:

    ```sh
    python main.py
    ```

2. Введите дату для анализа (в формате DD.MM.YYYY) или нажмите Enter для использования текущей даты:

    ```plaintext
    Введите дату в формате DD.MM.YYYY (Нажмите Enter чтобы использовать текущую дату): [ваша дата]
    ```

3. Результаты анализа и текущие цены на акции будут выведены на экран.

### Создание отчетов

1. Запустите скрипт:

    ```sh
    python main.py
    ```

2. Отчеты будут созданы и сохранены в соответствующие файлы.

## Описание функций

### Функции из `utils.py`

#### `get_card_summary(file_path: str, analysis_date: Optional[datetime] = None) -> dict`
Функция анализирует данные по карточным операциям из файла Excel и возвращает сводную информацию о картах на заданную дату.

#### `get_stock_prices(symbols: List[str]) -> List[dict]`
Функция получает текущие цены на акции для указанных символов с использованием API Alpha Vantage.

### Функции из `services.py`

#### `simple_search(user_request: str, file_path: str, output_file: str) -> None`
Функция выполняет простой поиск по данным транзакций по заданному запросу и сохраняет результаты в файл JSON.

## Структура проекта

- `main.py`: Основной скрипт для запуска функций проекта.
- `reports.py`: Модуль для создания отчетов.
- `services.py`: Модуль с функцией простого поиска по данным транзакций.
- `utils.py`: Утилитарный модуль с функциями для анализа карт и получения цен на акции.
- `data/`: Директория с файлом данных `operations.xls`.
- `requirements.txt`: Файл с зависимостями проекта.
